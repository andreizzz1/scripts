Metadata-Version: 2.4
Name: dickgrowerbot
Version: 0.1.0
Summary: Python async rewrite of DickGrowerBot
Requires-Python: >=3.9
Description-Content-Type: text/markdown
Requires-Dist: aiogram<4,>=3.4
Requires-Dist: asyncpg<1,>=0.29
Requires-Dist: python-dotenv<2,>=1.0
Requires-Dist: PyYAML<7,>=6.0
Provides-Extra: dev
Requires-Dist: pytest<9,>=8; extra == "dev"
Requires-Dist: pytest-asyncio<1,>=0.24; extra == "dev"
Requires-Dist: ruff<1,>=0.6; extra == "dev"

# Python bot (async)

This is a Python async rewrite of the Rust bot, reusing the same Postgres schema (the SQL files in `../migrations`).

## Run locally

1) Create a venv and install deps:

```bash
cd pybot
python -m venv .venv
source .venv/bin/activate
pip install -U pip
pip install -e ".[dev]"
```

2) Export env vars (or reuse the repo `.env`):

Required:
- `TELOXIDE_TOKEN` (Telegram Bot API token)
- `DATABASE_URL` (Postgres URL, e.g. `postgres://user:pass@localhost:5432/dbname`)

Optional:
- `RUST_LOG` is ignored (use `LOG_LEVEL` instead)
- `LOG_LEVEL` (default: `INFO`)

3) Run:

```bash
python -m dickgrowerbot.main
```

## Tests

Unit tests:

```bash
pytest
```

DB integration tests require `DATABASE_URL` to be set.

